(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{7760:function(e,n,a){Promise.resolve().then(a.bind(a,4604))},4604:function(e,n,a){"use strict";a.r(n);var i=a(7437),s=a(2265),o=a(2355),t=a.n(o),l=a(6463),r=a(6548),d=a(9381),c=a(8472);n.default=()=>{let[e,n]=(0,s.useState)(!1),a=(0,l.useRouter)(),o=(0,s.useCallback)(async e=>{let i={email:e.email,password:e.password};try{n(!0),console.log(i,"details");let e=await c.Z.post("https://telemedicine-1axz.onrender.com/api/v1/auth/authenticate",i,{"Content-Type":"application/json"});if(console.log(e,"response"),n(!1),e.data.accessToken){console.log("token present");let n={email:e.data.email,name:e.data.name,roles:e.data.role,id:e.data.userId,firstName:e.data.firstName},i=JSON.stringify(n);console.log(i,"authObj");let s=e.data.accessToken;console.log(s,"token"),window.sessionStorage.setItem("auth",JSON.stringify(n)),window.sessionStorage.setItem("token",JSON.stringify(s));let o=JSON.parse(window.sessionStorage.getItem("auth"));console.log(o,"auth"),"DOCTOR"===o.roles?a.push("/dashboard/doctor"):"PATIENT"===o.roles?a.push("/dashboard/patient"):alert("","Invalid Email or Password")}else await e.json()}catch(e){console.log(e,"err")}},[]);return(0,i.jsx)(d.J9,{initialValues:{email:"",password:""},validate:e=>{let n={};return e.email||(n.email="Email cannot be empty !"),e.password||(n.password="Password cannot be empty !"),n},onSubmit:(e,n)=>{let{setSubmitting:a}=n;console.log("mounted"),o(e),a(!1)},children:e=>{let{isValid:n,values:a,errors:s,dirty:o,touched:l,handleSubmit:c,handleBlur:m}=e;return(0,i.jsx)("div",{className:t().container,children:(0,i.jsx)("div",{className:t().container2,children:(0,i.jsxs)("div",{className:t().formContainer,children:[(0,i.jsx)("div",{className:t().header,children:(0,i.jsx)("h2",{children:"Login"})}),(0,i.jsxs)("form",{onSubmit:c,className:t().form,children:[(0,i.jsx)("div",{className:t().formField,children:(0,i.jsxs)("div",{className:t().formFieldContainer,children:[(0,i.jsx)("div",{className:t().text,children:(0,i.jsx)("h4",{children:"Email:"})}),(0,i.jsx)("div",{className:t().input,children:(0,i.jsx)(d.gN,{className:t().input_field,id:"email",type:"text",name:"email",value:a.email,onBlur:m,placeholder:"Enter your First name"})})]})}),(0,i.jsx)("div",{className:t().formField,children:(0,i.jsxs)("div",{className:t().formFieldContainer,children:[(0,i.jsx)("div",{className:t().text,children:(0,i.jsx)("h4",{children:"Password:"})}),(0,i.jsx)("div",{className:t().input,children:(0,i.jsx)(d.gN,{className:t().input_field,id:"password",type:"text",name:"password",value:a.password,onBlur:m,placeholder:"Enter your First name"})})]})}),(0,i.jsx)("div",{className:t().button,children:(0,i.jsx)(r.Z,{type:"submit",variant:"contained",sx:{backgroundColor:"#2D6CDF",paddingLeft:"3rem",paddingRight:"3rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",marginTop:"0rem",width:"100%","&:hover":{backgroundColor:"#2D6CDF",outline:"white"},"&.Mui-disabled":{background:"#E4ECFB",color:"#fff"}},children:"Submit"})})]})]})})})}})}},2355:function(e){e.exports={container:"login_container__SnwEe",container2:"login_container2__8qCmQ",formContainer:"login_formContainer__zSM7i",header:"login_header__Qh8GE",form:"login_form__5_nsa",formField:"login_formField__nbCXD",formFieldContainer:"login_formFieldContainer__mgvZj",text:"login_text__kyCND",input:"login_input__NqkMD",input_field:"login_input_field__ssvzx",button:"login_button__EHq0m"}}},function(e){e.O(0,[330,417,642,971,23,744],function(){return e(e.s=7760)}),_N_E=e.O()}]);